@page "/Demo/Lookup"
@namespace Demo.Web.Pages
@{
    if (hideHeader)
        autoHide = true;
}
<div class="row d-head">
    <div class="col-md-6">
        <h3>Autocomplete & Lookup</h3>
    </div>
    <div class="d-source-btn col-md-3">
        <button @onclick="() => status = WindowStatus.Open" class="c-btn c-primary">
            Autocomplete Source
            <i class="fa fa-code"></i>
        </button>
    </div>
    <div class="d-source-btn col-md-3">
        <button @onclick="() => statusLookup = WindowStatus.Open" class="c-btn c-primary">
            Lookup Source
            <i class="fa fa-code"></i>
        </button>
    </div>
</div>
<div class="d-body">
    <div class="row">
        <div class="col-md-6 d-control">
            <hr />
            <div class="d-container">
                <h4>Default seting</h4>
                <div class="row">
                    <div class="col-md-12">
                        <CheckBox @bind-Value="disabled" Title="Disable" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="hideHeader" Title="Hide Header" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="hideIcon" Title="Hide Icon" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="autoHide" Disabled="hideHeader" Title="Auto hide" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="openOnFocus" Title="Open On Focus" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="closeOnBlur" Title="Close On Blur" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 d-control">
            <hr />
            <div class="d-container">
                <h4 style="padding-right:40px;">Customer lookup</h4>
                <div class="row c-controls">
                    <div class="col-md-12">
                        <AutoComplete TEntity="Customer" TValue="int?" @bind-Value="Id" HideHeader="hideHeader" AutoHide="autoHide" Title="Customer Search"
                                      TextExpression='t => t.CustomerType == CustomerType.Real ? t.FName + " " + t.LName : t.CompanyName'
                                      OpenOnFocus="openOnFocus" CloseOnBlur="closeOnBlur" Disabled="disabled" HideIcon="hideIcon">
                            <CustomerLookupComponent TValue="int?" UseParameter="useParameter" />
                        </AutoComplete>
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="useParameter" Title="Use Parameter" />
                    </div>
                    @if (useParameter)
                    {
                        <div class="col-md-4">
                            <label>Customer Type</label>
                        </div>
                        <div class="col-md-8">
                            <DropdownList @bind-Value="customerType" />
                        </div>
                        <div class="col-md-4">
                            <label>Gender</label>
                        </div>
                        <div class="col-md-8">
                            <DropdownList @bind-Value="gender" />
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
<CreatePdfComponent @bind-Status="status" Title="Autocomplete" FileName="Autocomplete.pdf" />
<CreatePdfComponent @bind-Status="statusLookup" Title="Lookup" FileName="Lookup.pdf" />

@code
{
    WindowStatus status;
    WindowStatus statusLookup;
    int? id1;
    int? Id;
    bool disabled;
    bool autoHide;
    bool hideIcon;
    bool hideHeader;
    bool useParameter;
    bool closeOnBlur;
    bool openOnFocus;
    CustomerType? customerType;
    Gender? gender;
}
