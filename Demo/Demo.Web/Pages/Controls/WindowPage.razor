@page "/Demo/Window"
@namespace Demo.Web.Pages
@inherits BasePage
@{
    base.BuildRenderTree(__builder);
}
<div class="row d-head">
    <div class="col-md-6">
        <h3>Window</h3>
    </div>
    <div class="d-source-btn col-md-6">
        <button @onclick="() => pdfStatus = WindowStatus.Open" class="c-btn c-primary">
            Source
            <i class="fa fa-code"></i>
        </button>
    </div>
</div>
<div class="d-body">
    <div class="row">
        <div class="col-md-6 d-control">
            <hr />
            <div class="d-container">
                <h4>Window Setting</h4>
                <div class="row">
                    <div class="col-md-12">
                        <CheckBox @bind-Value="dragable" Title="Dragable" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="resizeable" Title="Resizeable" />
                    </div>
                   <div class="col-md-12">
                        <CheckBox @bind-Value="modal" Title="Modal" />
                    </div>
                    <div class="col-md-12">
                        <CheckBox @bind-Value="hideTitle" Title="Hide Title" />
                    </div>
                    <div class="col-md-6">
                        <label>Title</label>
                    </div>
                    <div class="col-md-6">
                        <StringTextBox @bind-Value="title" />
                    </div>
                    <div class="col-md-6">
                        <label>Open</label>
                    </div>
                    <div class="col-md-6 text-center">
                        <button class="c-btn c-primary" @onclick="() => { Status = WindowStatus.Open; }">...</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 d-control">
            <hr />
            <div class="d-container">
                <h4>Cascade Window</h4>
                <div class="row">
                    <div class="text-center col-md-12">
                        <button class="c-btn c-info" @onclick="() => {Status1 = WindowStatus.Open;}">Open</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<Window @bind-Status="Status" Modal=modal Resizable=resizeable Draggable="dragable" Title="@title" HideTitle="hideTitle" Style="width:600px;height:350px">
    <Content>
        @if (hideTitle)
        {
            <div style="display:flex">
                <h5 style = "width:calc(100% - 33px); padding:10px 25px 0 0;">Window</h5>
                <button @onclick="() => Status = WindowStatus.Close" style="border:none;color:gray;background-color:transparent">X</button>
            </div>
            <hr/>
        }
    </Content>
</Window>


<Window @bind-Status="Status1"  Title="Window 1" Style="width:700px;height:500px">
    <Content>
        <div class="row d-cascade">
            <div class="col-md-12">
                <h3>Cascade Window</h3>
            </div>
            <div class="col-md-6">
                <hr />
                <h6 class="d-window1">Window 1</h6>
            </div>
            <div class="col-md-6">
                <hr />
                <button class="c-btn c-success" @onclick="() => { Status2 = WindowStatus.Open; }">Window 2</button>
            </div>
        </div>
        <Window @bind-Status="Status2" Title="Window 2" Style="width:600px;height:400px">
            <Content>
                <div class="row d-cascade">
                    <div class="col-md-12">
                        <h3>Cascade Window</h3>
                    </div>
                    <div class="col-md-6">
                        <hr />
                        <h6 class="d-window2">Window 2</h6>
                    </div>
                    <div class="col-md-6">
                        <hr />
                        <button class="c-btn c-secondary" @onclick="() => { Status3 = WindowStatus.Open; }">Window 3</button>
                    </div>
                </div>
                <Window @bind-Status="Status3" Title="Window 3" Style="width:500px;height:300px">
                    <Content>
                        <div class="row d-cascade">
                            <div class="col-md-12">
                                <h3>Cascade Window</h3>
                            </div>
                            <div class="col-md-12">
                                <hr />
                                <h6 class="d-window3">Window 3</h6>
                            </div>
                        </div>
                    </Content>
                </Window>
            </Content>
        </Window>
    </Content>
</Window>
<CreatePdfComponent @bind-Status="pdfStatus" Title="Window" FileName="Window.pdf" />
@code {
    WindowStatus pdfStatus;
    WindowStatus Status;
    WindowStatus Status1;
    WindowStatus Status2;
    WindowStatus Status3;
    bool dragable = true;
    bool hideTitle;
    bool modal = true;
    bool resizeable;
    string title = "Window";

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
            await base.BindTooltip();
        await base.OnAfterRenderAsync(firstRender);
    }

}
