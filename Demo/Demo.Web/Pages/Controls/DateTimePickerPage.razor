@page "/Demo/DateAndTime"
@namespace Demo.Web.Pages
<div style="padding:20px 40px 0 0">
    <h3>Date And Time Picker</h3>
</div>
<div style="display:table;width:90%;margin:0 auto">
    <div style="display:table-cell;width:50%;padding-left:40px">
        <hr />
        <h4 style="padding-right:40px;">Date picker-default</h4>
        <table style="height:210px;margin-right:80px">
            <tr>
                <td style="width:155px;">
                    <label>Disable</label>
                </td>
                <td>
                    <CheckBox @bind-Value="dateDisable" />
                </td>
            </tr>
            <tr>
                <td>
                    <label>Open on focus</label>
                </td>
                <td>
                    <CheckBox @bind-Value="dateOpenOnFocus" />
                </td>
            </tr>
            <tr>
                <td>
                    <label>Action</label>
                </td>
                <td style="text-align:center">
                    <button class="t-button" @onclick="async () => await DatePickerFocuc() ">فـوکـوس</button>
                </td>
            </tr>
            <tr>
                <td>
                    <label>Selected Culture Date</label>
                </td>
                <td style="text-align:center;direction:ltr">
                    <label style="color:red;">@(date.HasValue ? date.Value.ToShortDateString() : "-----")</label>
                </td>
            </tr>
            <tr>
                <td>
                    <label>Selected Persian Date</label>
                </td>
                <td style="text-align:center">
                    <label style="color:red;">@(date.HasValue ? date.ToPersianDateString() : "-----")</label>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <DatePicker @ref="datePicker" @bind-Value="date" OpenOnFocus="dateOpenOnFocus" Disabled="dateDisable" />
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <button @onclick="DatePickerSource" class="c-btn c-primary">Source</button>
                </td>
            </tr>
        </table>
    </div>
    <div style="display:table-cell;width:50%;padding-right:40px">
        <hr />
        <h4 style="padding-right:40px;">Time picker-default</h4>
        <table style="height:210px;margin-right:80px">
            <tr>
                <td style="width:155px;">
                    <label>Disable</label>
                </td>
                <td>
                    <CheckBox @bind-Value="timeDisable" />
                </td>
            </tr>
            <tr>
                <td>
                    <label>Open on focus</label>
                </td>
                <td>
                    <CheckBox @bind-Value="timeOpenOnFocus" />
                </td>
            </tr>
            <tr>
                <td>
                    <label>Action</label>
                </td>
                <td style="text-align:center">
                    <button class="t-button" @onclick="async () => await TimePickerFocuc()">فـوکـوس</button>
                </td>
            </tr>
            <tr>
                <td>
                    <label>Selected time</label>
                </td>
                <td style="text-align:center">
                    <label style="color:red;">@(time.HasValue ? time.Value.ShortString() : "-----")</label>
                </td>
            </tr>
            <tr>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td colspan="2">
                    <TimePicker @ref="timePicker" @bind-Value="time" Disabled="timeDisable" />
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <button @onclick="TimePickerSource" class="c-btn c-primary">Source</button>
                </td>
            </tr>
        </table>
    </div>
</div>
<CreatePdfComponent @bind-Status="status" Title="Default" FileName="@sourceName" />
@code 
{
    string sourceName;
    bool dateDisable;
    bool dateOpenOnFocus;
    bool timeDisable;
    bool timeOpenOnFocus;
    DateTime? date;
    TimeSpan? time;
    DatePicker<DateTime?> datePicker;
    TimePicker<TimeSpan?> timePicker;
    WindowStatus status;

    void DatePickerSource()
    {
        sourceName = "DatePicker.pdf";
        status = WindowStatus.Open;
    }

    void TimePickerSource()
    {
        sourceName = "TimePicker.pdf";
        status = WindowStatus.Open;
    }

    async Task DatePickerFocuc()
    {
        await datePicker.FocusAsync();
    }

    async Task TimePickerFocuc()
    {
        await timePicker.FocusAsync();
    }
}
