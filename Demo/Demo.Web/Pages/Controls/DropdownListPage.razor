@page "/Demo/DropdownList" 
@namespace Demo.Web.Pages
@inherits BasePage
<h3 class="p-4">Dropdown list</h3>
<p>
    this component usually bind to Enum or Nullable Enum, of course this component can bind to any type of data, if you bind this control to Enum this control automatically fill from Enum Fields.
</p>
<TabPanel @bind-TabIndex=selectedIndex>
    <Tabs>
        <TabPanelItem Title="<i class='fa fa-bar-chart'></i>Demo">
            <div class="d-content">
                <DropdownList @ref="dropdownList" Style="max-width:350px;" @bind-Value="orderType" Disabled="disable" />
            </div>
        </TabPanelItem>
        <TabPanelItem Title="<i class='fa fa-code'></i>Source">
            <div class="d-content">
                <DropdownList @ref="dropdownList" Style="max-width:350px;" @bind-Value="orderType" Disabled="disable" />
            </div>
        </TabPanelItem>
    </Tabs>
</TabPanel>
<div class="row ps-4 pe-4 pt-3">
    <div class="col-md-6">
        <h3>Dropdown List</h3>
    </div>
    <div class="d-source-btn col-md-6">
        <button @onclick="() => status = WindowStatus.Open" class="c-btn c-primary">
            Source<i class="fa fa-code"></i>
        </button>
    </div>
</div>
<div class="row ps-3 pe-3 ">
    <div class="col-md-6 ps-4 pe-4">
        <hr />
        <div class="ps-4 pe-4">
            <h4>Bind To Enum</h4>
            <div class="row ps-4 c-controls">
                <div class="col-md-12">
                    <CheckBox @bind-Value="disable" Title="Disable" />
                </div>
                <div class="col-md-5">
                    <label>Action</label>
                </div>
                <div class="col-md-7 text-center">
                    <button class="t-button" @onclick="async () => await DropdownFocus()">Focus</button>
                </div>
                <div class="col-md-5">
                    <label>Selected Value</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.ConvertToInt() : "-----")</label>
                </div>
                <div class="col-md-5">
                    <label>Selected Title</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.FaText() : "-----")</label>
                </div>
                <div class="col-md-5">
                    <label>Selected Enum Title</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.ToString() : "-----")</label>
                </div>
                <div class="col-md-10">
                    <DropdownList @ref="dropdownList" @bind-Value="orderType" Disabled="disable" />
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 ps-4 pe-4">
        <hr />
        <div class="ps-4 pe-4">
            <h4>Items filter</h4>
            <div class="row ps-4 c-controls">
                <div class="col-md-5">
                    <label>Selected Value</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.ConvertToInt() : "-----")</label>
                </div>
                <div class="col-md-5">
                    <label>Selected Title</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.FaText() : "-----")</label>
                </div>
                <div class="col-md-5">
                    <label>Selected Enum Title</label>
                </div>
                <div class="col-md-7 text-center">
                    <label style="color:red;">@(orderType.HasValue ? orderType.Value.ToString() : "-----")</label>
                </div>
                <div class="col-md-10">
                    <DropdownList @bind-Value="orderType" FilterFunc="orderType => orderType != Model.OrderType.Salon" />
                </div>
            </div>
        </div>
    </div>
</div>

<CreatePdfComponent @bind-Status="status" Title="Default" FileName="Dropdown.pdf" Title1="Enume Code" FileName1="OrderType-Enum.pdf" />

@code 
{
    int selectedIndex = 1;
    bool disable;
    Demo.Model.OrderType? orderType;
    DropdownList<Demo.Model.OrderType?> dropdownList;
    WindowStatus status;

    async Task DropdownFocus()
    {
        await dropdownList.FocusAsync();
    }
}
